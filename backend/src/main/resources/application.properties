# ===========================================
# SPRING BOOT CONFIGURATION
# ===========================================
spring.application.name=time-manager
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}


# ===========================================
# DEVTOOLS (Redémarrage & LiveReload)
# ===========================================
spring.devtools.restart.enabled=true
spring.devtools.restart.poll-interval=1s
spring.devtools.restart.quiet-period=500ms
spring.devtools.livereload.enabled=true


# ===========================================
# LOGGING (DEBUG COMPLET)
# ===========================================
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.com.example.time_manager.security=DEBUG
logging.level.org.springframework.graphql=DEBUG
logging.level.org.springframework.boot.autoconfigure.graphql=DEBUG


# ===========================================
# GRAPHQL
# ===========================================
spring.main.web-application-type=servlet
spring.graphql.path=/graphql
spring.graphql.schema.printer.enabled=true
spring.graphql.graphiql.enabled=true
spring.graphql.graphiql.path=/graphiql


# ===========================================
# DATABASE (MariaDB via Docker)
# ===========================================
spring.datasource.url=jdbc:mariadb://${DB_CONTAINER_NAME}:${DB_PORT_CONTAINER}/${DB_NAME}
spring.datasource.username=root
spring.datasource.password=${DB_ROOT_PASSWORD}
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver


# ===========================================
# JPA / HIBERNATE
# ===========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.MariaDBDialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true


# ===========================================
# JWT SECURITY (utilisÃ© par JwtUtil)
# ===========================================
security.jwt.secret=${SECURITY_JWT_SECRET}
security.jwt.issuer=${SECURITY_JWT_ISSUER:time-manager}
security.jwt.expMinutes=${SECURITY_JWT_EXPMINUTES:15}
security.jwt.refreshSecret=${SECURITY_JWT_REFRESH_SECRET}
security.jwt.refreshDays=${SECURITY_JWT_REFRESH_DAYS:45}


# ===========================================
# SERVEUR WEB
# ===========================================
server.port=${BACKEND_PORT:8080}
server.error.include-message=always
